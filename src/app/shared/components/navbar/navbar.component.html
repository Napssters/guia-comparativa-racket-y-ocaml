<nav class="w-full bg-white shadow flex items-center px-6 py-2 justify-between sticky top-0 z-50 backdrop-blur">
  <a [routerLink]="['/']" class="flex items-center gap-3">
    <img src="assets/logo.webp" alt="Logo" class="h-10 w-auto" />
    <span class="text-2xl font-bold text-[#3e5aa9]">Racket y Ocaml</span>
  </a>
  <div class="flex items-center gap-4 ml-auto">
    <ng-container *ngIf="!isRootRoute()">
      <a [routerLink]="['/']"
        (click)="closeDropdown()"
        class="text-[#3e5aa9] font-semibold text-lg px-4 py-1 rounded transition duration-150 hover:bg-[#3e5aa9] hover:text-white">Inicio</a>
    </ng-container>
    <div class="relative">
      <button (click)="isRootRoute() ? scrollToModulos() : toggleDropdown()"
        class="text-[#3e5aa9] font-semibold text-lg px-4 py-1 rounded transition duration-150 hover:bg-[#3e5aa9] hover:text-white">MÃ³dulos</button>
      <ul *ngIf="isDropdownOpen"
        class="absolute right-0 mt-2 w-72 bg-white border border-[#3e5aa9] rounded-2xl shadow-2xl z-20 py-2 px-1 animate-fade-in max-h-64 overflow-y-auto">
        <li *ngFor="let modulo of modulos" class="mb-1 last:mb-0">
          <a [routerLink]="['/', modulo.page]" (click)="scrollToTop(); closeDropdown()"
            [ngClass]="isActiveModulo(modulo.page)
         ? 'block px-5 py-3 rounded-xl font-semibold border-2 border-[#3e5aa9] bg-[#e3eafd] text-[#3e5aa9] transition cursor-pointer shadow-sm'
         : 'block px-5 py-3 rounded-xl text-[#3e5aa9] font-semibold hover:bg-[#3e5aa9] hover:text-white transition cursor-pointer shadow-sm'">{{ modulo.title }}</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
