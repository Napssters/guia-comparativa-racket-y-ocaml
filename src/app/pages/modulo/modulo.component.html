<app-documentacion [moduloKey]="moduloKey" />

<div class="mx-auto p-8 bg-gradient-to-br from-blue-50 to-white rounded-2xl shadow-md mt-6 mb-6 flex flex-col gap-10" style="max-width: 90rem;">
  <h1 class="bg-yellow-300 text-yellow-900 text-3xl font-bold rounded-xl px-6 py-4 mb-4 shadow-lg text-center">
    ⚠️ Aviso temporal: El comparador de código aún está en desarrollo. Esta sección es solo una maqueta de muestra y no tiene funcionalidad real por ahora. Pronto estará disponible con todas sus características.
  </h1>

  <h2 class="text-2xl md:text-4xl font-bold text-center mb-2 text-[#3e5aa9]">Comparador de Código Racket ↔ OCaml</h2>
  <p class="text-base md:text-lg text-gray-700 mb-6">
    Convierte y compara ejemplos de código entre Racket y OCaml. Esta herramienta te ayuda a entender cómo los conceptos y estructuras de programación funcional se traducen de Racket a OCaml, facilitando el aprendizaje y la transición entre ambos lenguajes.
  </p>

  <div class="flex flex-row gap-2 mb-8 justify-center items-center">
    <ng-container *ngFor="let key of ejerciciosKeys">
      <button
        (click)="seleccionarEjercicio(key)"
        class="relative bg-transparent text-lg font-semibold px-6 py-3 focus:outline-none transition-colors duration-300"
        [ngClass]="key === ejercicioSeleccionado ? 'text-[#3e5aa9] button-with-point' : 'text-gray-400 hover:text-[#3e5aa9]'">
        <span class="inline-block align-middle tracking-wide">
          {{ key.replace('ejercicio-', 'Ejercicio ') }}
        </span>
        <span *ngIf="key === ejercicioSeleccionado"
          class="selector-bar"></span>
      </button>
    </ng-container>
  </div>

  <div class="mb-0 text-base text-gray-800 font-medium bg-white border-l-4 border-[#3e5aa9] px-4 py-2 rounded shadow">
    {{ descripcionEjercicio }}
  </div>
  <div class="grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-6 items-stretch">
    <app-code-editor
      [label]="'Racket'"
      [language]="'scheme'"
      [code]="racketCode"
      [disabled]="true"
      class="h-full"
    />
    <div class="flex flex-col items-center justify-center h-full">
      <div class="relative group">
        <button (click)="mostrarConversion()"
          class="bg-[#3e5aa9] hover:bg-[#ec690d] text-white rounded-full shadow-lg w-12 h-12 flex items-center justify-center transition duration-200 focus:outline-none">
          <svg class="w-6 h-6 mx-auto my-auto" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 5l8 7-8 7" />
          </svg>
        </button>
        <span class="absolute left-1/2 -translate-x-1/2 -top-10 bg-gray-900 text-white text-xs rounded px-3 py-1 opacity-0 group-hover:opacity-100 transition pointer-events-none whitespace-nowrap z-10 shadow-lg">
          Convertir a OCaml
        </span>
      </div>
    </div>
    <app-code-editor
      [label]="'OCaml'"
      [language]="'ocaml'"
      [code]="ocamlCode"
      [disabled]="true"
      class="h-full"
    />
  </div>
</div>
